{
  "gitSyncId": "6915b9d6a2ab6852a3eeef70_2cc97ab7-d824-435e-89ff-74b19d9cf74e",
  "id": "Administration_QryInsertAlertRule",
  "pluginId": "postgres-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "INSERT INTO public.alert_rules (\n  event_type,\n  step_code,\n  status_code,\n  event_key,\n  event_value,\n  target_everwin_user_id,\n\tnotify_charge_affaires,\n  enabled,\n  only_on_change,\n  throttle_minutes,\n  description\n)\nVALUES (\n  '{{ TableAlertRules.newRow.event_type ?? \"STATUS_CHANGED\" }}',\n\n  CASE\n    WHEN '{{ TableAlertRules.newRow.event_type ?? \"STATUS_CHANGED\" }}' = 'STATUS_CHANGED'\n      THEN NULLIF('{{ TableAlertRules.newRow.step_code ?? \"\" }}', '')\n    ELSE NULL\n  END,\n\n  CASE\n    WHEN '{{ TableAlertRules.newRow.event_type ?? \"STATUS_CHANGED\" }}' = 'STATUS_CHANGED'\n      THEN NULLIF('{{ TableAlertRules.newRow.status_code ?? \"\" }}', '')\n    ELSE NULL\n  END,\n\n  CASE\n    WHEN '{{ TableAlertRules.newRow.event_type ?? \"STATUS_CHANGED\" }}' <> 'STATUS_CHANGED'\n      THEN NULLIF('{{ TableAlertRules.newRow.event_key ?? \"\" }}', '')\n    ELSE NULL\n  END,\n\n  CASE\n    WHEN '{{ TableAlertRules.newRow.event_type ?? \"STATUS_CHANGED\" }}' <> 'STATUS_CHANGED'\n      THEN 'true'\n    ELSE NULL\n  END,\n\n  CASE\n    WHEN '{{ TableAlertRules.newRow.event_type ?? \"STATUS_CHANGED\" }}' = 'STATUS_CHANGED'\n     AND NULLIF('{{ TableAlertRules.newRow.status_code ?? \"\" }}','') = 'ATTENTE_CLIENT'\n      THEN NULL\n    ELSE NULLIF('{{ TableAlertRules.newRow.target_everwin_user_id ?? \"\" }}', '')\n  END,\n\t\n\t{{ TableAlertRules.newRow.notify_charge_affaire ?? false }},\n  {{ TableAlertRules.newRow.enabled ?? true }},\n  {{ TableAlertRules.newRow.only_on_change ?? true }},\n  {{ TableAlertRules.newRow.throttle_minutes ?? 0 }},\n  '{{ (TableAlertRules.newRow.description || \"\").replaceAll(\"'\", \"''\") }}'\n)\nRETURNING id;\n",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": true
        }
      ],
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "Databook - Neon",
      "isAutoGenerated": false,
      "name": "Databook - Neon",
      "pluginId": "postgres-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "name": "QryInsertAlertRule",
    "pageId": "Administration",
    "runBehaviour": "MANUAL",
    "userSetOnLoad": false
  }
}